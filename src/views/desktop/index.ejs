<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta name="description" content="WebRTC code samples">
  <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1">
  <meta itemprop="description" content="Client-side WebRTC code samples">
  <meta itemprop="name" content="WebRTC code samples">
  <meta name="mobile-web-app-capable" content="yes">
  <meta id="theme-color" name="theme-color" content="#ffffff">

  <base target="_blank">

  <title>Control Panel</title>

  <link href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet" type="text/css">
  <link href="../css/main.css" type="text/css" rel="stylesheet">

</head>

<body>

  <div id="container">
    <div class="options">
      <form id="viewOptions">
        <legend>View Mode</legend>
  <!-- View Mode selection -->
          <div class="viewModeOption selected">
            <input checked type="radio" name="VR" value="VR">
            <label for="VR">Dual Screen(VR)</label>
            <p>Select this option to utilise the Augmented reality version</p>
          </div>
          <div class="viewModeOption">
            <input type="radio" name="VR" value="SS">
            <label for="VR">Solo Screen</label>
            <p>Select this option to go single screen</p>
          </div>
  <!-- End of view mode selection -->

  <!-- Color blindness Selection -->
        <legend>Color Blindness</legend>
          <div class="cbChoice selected">
             <input checked type="radio" name="cb" value="normal">
             <label for="normal">Normal Vision</label>
             <p class="affect">Affect around 2%</p>
             <p class="desc">This is where the description about the conditon will go</p>
          </div>

  <!-- Reduced sensitivity to red -->
          <div class="cbChoice">
             <input type="radio" name="cb" value="protanopia">
             <label for="protanopia">protanopia</label>
             <p class="affect">Affect around 2%</p>
             <p class="desc">This is where the description about the conditon will go</p>
          </div>

          <div class="cbChoice">
            <input type="radio" name="cb" value="protanomaly">
            <label for="protanomaly">protanomaly</label>
            <p class="affect">Affect around 2%</p>
            <p class="desc">This is where the description about the conditon will go</p>
          </div>
  <!-- End red sensitivity -->

  <!-- Reduced senstivity to green -->
          <div class="cbChoice">
           <input type="radio" name="cb" value="deuteranopia">
           <label for="deuteranopia">deuteranopia</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>

          <div class="cbChoice">
           <input type="radio" name="cb" value="deuteranomaly">
           <label for="deuteranomaly">deuteranomaly</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>
  <!-- End green sensitivy -->

  <!-- Blue Sensitivity -->
          <div class="cbChoice">
           <input type="radio" name="cb" value="tritanopia">
           <label for="tritanopia">tritanopia</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>

          <div class="cbChoice">
           <input type="radio" name="cb" value="tritanomaly">
           <label for="tritanomaly">tritanomaly</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>
  <!-- End of blue -->

  <!-- Complete colour blindness -->
          <div class="cbChoice">
           <input type="radio" name="cb" value="achromatopsia">
           <label for="achromatopsia">achromatopsia</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>

          <div class="cbChoice">
           <input type="radio" name="cb" value="achromatomaly">
           <label for="achromatomaly">achromatomaly</label>
           <p class="affect">Affect around 2%</p>
           <p class="desc">This is where the description about the conditon will go</p>
          </div>
  <!-- End of complete colour blindness -->
  <!-- Bluriness -->
         <legend>Blurriness</legend>
         <section class="blurriness">
           <div class="eye_choice selected">
             <input checked type="radio" name="blur" value="none">
             <label for="none">None</label>
             <p>This turns cataracts affect off</p>
           </div>
           <div class="eye_choice">
             <input type="radio" name="blur" value="both">
             <label for="none">Both</label>
             <p>Cataracts will affects both eyes</p>
           </div>
           <div class="eye_choice">
             <input type="radio" name="blur" value="left">
             <label for="left">Left Eye</label>
             <p>Cataracts will affect the left eye</p>
           </div>
           <div class="eye_choice">
             <input type="radio" name="blur" value="right">
             <label for="right">Right Eye</label>
             <p>Cataracts will affect the right eye</p>
           </div>
           <h4>Severity</h4>
           <div class="range-slider">
             <input class="range-slider__range" type="range" value="0" min="0" max="100" step="1">
             <span class="range-slider__value">0</span>
           </div>
         </section>

  <!-- End of blurriness -->

  <!-- Start of cataracts -->
           <legend>Cataracts</legend>
           <section class="cataracts">
             <div checked class="eye_choice selected">
               <input type="radio" name="eye" value="none">
               <label for="none">None</label>
               <p>This turns cataracts affect off</p>
             </div>
             <div class="eye_choice">
               <input type="radio" name="eye" value="both">
               <label for="none">Both</label>
               <p>Cataracts will affects both eyes</p>
             </div>
             <div class="eye_choice">
               <input type="radio" name="eye" value="left">
               <label for="left">Left Eye</label>
               <p>Cataracts will affect the left eye</p>
             </div>
             <div class="eye_choice">
               <input type="radio" name="eye" value="right">
               <label for="right">Right Eye</label>
               <p>Cataracts will affect the right eye</p>
             </div>
             <h4>Severity</h4>
             <div class="range-slider">
               <input class="range-slider__range" type="range" value="0" min="0" max="100" step="1">
               <span class="range-slider__value">0</span>
             </div>
           </section>
           <!-- End of catracts -->


           <!-- Start of Diabetic Retinopathy -->
                       <legend>Diabetic Rhetinopathy</legend>
                       <section class="cataracts">
                         <div class="eye_choice selected">
                           <input type="radio" name="eye" value="none">
                           <label for="none">None</label>
                           <p>This turns cataracts affect off</p>
                         </div>
                         <div class="eye_choice">
                           <input type="radio" name="eye" value="both">
                           <label for="none">Both</label>
                           <p>Cataracts will affects both eyes</p>
                         </div>
                         <div class="eye_choice">
                           <input type="radio" name="eye" value="left">
                           <label for="left">Left Eye</label>
                           <p>Cataracts will affect the left eye</p>
                         </div>
                         <div class="eye_choice">
                           <input type="radio" name="eye" value="right">
                           <label for="right">Right Eye</label>
                           <p>Cataracts will affect the right eye</p>
                         </div>
                         <h4>Severity</h4>
                         <div class="range-slider">
                           <input class="range-slider__range" type="range" value="0" min="0" max="100" step="1">
                           <span class="range-slider__value">0</span>
                         </div>
                       </section>
                       <!-- End of diabetic -->
       </form>
    </div>

 </div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="../socket.io/socket.io.js"></script>
<script>
$(document).ready(function(){
  var host = window.location.hostname;
  var socket = io.connect('https://' + host);

  /*=================================================================
  Single Or Augmented view
  ===============================================================*/
  var current_view = 'VR';

  $('.viewModeOption').click(function(){
    $(this).addClass('selected');
    var option = $(this).find('input');
    var choice = option.val();
    if(choice !== current_view){
        option.prop('checked', !option.prop('checked'));
        current_view = choice;
        $('input[name=VR]').each(function(){
            var state = $(this).prop('checked');
            if(!state){
              $(this).parent().removeClass('selected');
            }
        });
    }
  });
  $('.viewModeOption').click(function(){
    var state = $('#VRCheck');

    state.prop('checked',!state.prop('checked'));
    var stateCheck = $('#VRCheck').prop('checked');
    if(stateCheck){
      //the state is on
      $('.right').removeClass('single');
      $('.left').removeClass('fullWidth');
    }else{
      //turn the vr off
       $('.right').addClass('single');
       $('.left').addClass('fullWidth');

    }
  });

  /*=================================================================
  Colour blindness
  ===============================================================*/
  var currentCB = 'normal';

  $('.cbChoice').click(function(){
    $(this).addClass('selected');
    var choice = $(this).find('input');
    var temp_currentCB = choice.val();

    if(temp_currentCB !== currentCB){
      choice.prop('checked', !choice.prop('checked'));
      socket.emit('colour blind change', {oldCB: currentCB, newCB: temp_currentCB});
      currentCB = temp_currentCB;
    }
    $('input[name=cb]').each(function(){
        var state = $(this).prop('checked');
        if(state){

        }else{
          $(this).parent().removeClass('selected');
        }
    });
  });


  /*=================================================================
  Blurriness eye affect
  ===============================================================*/
  var currentblur = 'none';

  $('.blurriness .eye_choice').click(function(){
    $(this).addClass('selected');
    var choice = $(this).find('input');
    var temp_blur = choice.val();


    if(temp_blur !== currentblur){
      choice.prop('checked', !choice.prop('checked'));
      currentblur = temp_blur;
    }
    $('input[name=blur]').each(function(){
        var state = $(this).prop('checked');
        if(state){

        }else{
          $(this).parent().removeClass('selected');
        }
    });
  });

  /*=================================================================
  Slider functions
  ===============================================================*/
  var rangeSlider = function(){
    var slider = $('.range-slider'),
        range = $('.range-slider__range'),
        value = $('.range-slider__value');

    slider.each(function(){
      value.each(function(){
        var value = $(this).prev().attr('value');
        $(this).html(value);
      });
      range.on('input', function(){
        $(this).next(value).html(this.value);
      });
    });
  };

  rangeSlider();

});

</script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-90731612-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
